import './polyfills.server.mjs';
import{ga as Ee}from"./chunk-PFJUMQHT.mjs";import"./chunk-KQIXOCHH.mjs";import{Ba as Ut,Ra as me,Ua as pe,ja as ue,ma as de,n as J,o as Y,pa as fe,xa as he,z as ce,za as ge}from"./chunk-NKLVYMZE.mjs";import{a as ae,b as le}from"./chunk-VVCT4QZE.mjs";var Me="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",De="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",B=(t,e)=>{for(let n in e)t[n]=e[n];return t},Ft="numeric",_t="ascii",Qt="alpha",et="asciinumeric",V="alphanumeric",$t="domain",Oe="emoji",Ue="scheme",Be="slashscheme",ke="whitespace";function ze(t,e){return t in e||(e[t]=[]),e[t]}function j(t,e,n){e[Ft]&&(e[et]=!0,e[V]=!0),e[_t]&&(e[et]=!0,e[Qt]=!0),e[et]&&(e[V]=!0),e[Qt]&&(e[V]=!0),e[V]&&(e[$t]=!0),e[Oe]&&(e[$t]=!0);for(let i in e){let s=ze(i,n);s.indexOf(t)<0&&s.push(t)}}function Ke(t,e){let n={};for(let i in e)e[i].indexOf(t)>=0&&(n[i]=!0);return n}function L(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}L.groups={};L.prototype={accepts(){return!!this.t},go(t){let e=this,n=e.j[t];if(n)return n;for(let i=0;i<e.jr.length;i++){let s=e.jr[i][0],a=e.jr[i][1];if(a&&s.test(t))return a}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,i){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,i)},tr(t,e,n,i){i=i||L.groups;let s;return e&&e.j?s=e:(s=new L(e),n&&i&&j(e,n,i)),this.jr.push([t,s]),s},ts(t,e,n,i){let s=this,a=t.length;if(!a)return s;for(let r=0;r<a-1;r++)s=s.tt(t[r]);return s.tt(t[a-1],e,n,i)},tt(t,e,n,i){i=i||L.groups;let s=this;if(e&&e.j)return s.j[t]=e,e;let a=e,r,l=s.go(t);if(l?(r=new L,B(r.j,l.j),r.jr.push.apply(r.jr,l.jr),r.jd=l.jd,r.t=l.t):r=new L,a){if(i)if(r.t&&typeof r.t=="string"){let c=B(Ke(r.t,i),n);j(a,c,i)}else n&&j(a,n,i);r.t=a}return s.j[t]=r,r}};var u=(t,e,n,i,s)=>t.ta(e,n,i,s),C=(t,e,n,i,s)=>t.tr(e,n,i,s),Te=(t,e,n,i,s)=>t.ts(e,n,i,s),o=(t,e,n,i,s)=>t.tt(e,n,i,s),w="WORD",Gt="UWORD",_="LOCALHOST",qt="TLD",Jt="UTLD",nt="SCHEME",U="SLASH_SCHEME",Yt="NUM",ve="WS",Vt="NL",K="OPENBRACE",W="CLOSEBRACE",it="OPENBRACKET",st="CLOSEBRACKET",rt="OPENPAREN",ot="CLOSEPAREN",at="OPENANGLEBRACKET",lt="CLOSEANGLEBRACKET",ct="FULLWIDTHLEFTPAREN",ut="FULLWIDTHRIGHTPAREN",dt="LEFTCORNERBRACKET",ft="RIGHTCORNERBRACKET",ht="LEFTWHITECORNERBRACKET",gt="RIGHTWHITECORNERBRACKET",mt="FULLWIDTHLESSTHAN",pt="FULLWIDTHGREATERTHAN",Et="AMPERSAND",kt="APOSTROPHE",Tt="ASTERISK",I="AT",yt="BACKSLASH",At="BACKTICK",Lt="CARET",x="COLON",Xt="COMMA",Ct="DOLLAR",R="DOT",bt="EQUALS",Zt="EXCLAMATION",O="HYPHEN",Rt="PERCENT",Ot="PIPE",vt="PLUS",St="POUND",wt="QUERY",te="QUOTE",ee="SEMI",v="SLASH",F="TILDE",Nt="UNDERSCORE",Se="EMOJI",It="SYM",we=Object.freeze({__proto__:null,WORD:w,UWORD:Gt,LOCALHOST:_,TLD:qt,UTLD:Jt,SCHEME:nt,SLASH_SCHEME:U,NUM:Yt,WS:ve,NL:Vt,OPENBRACE:K,CLOSEBRACE:W,OPENBRACKET:it,CLOSEBRACKET:st,OPENPAREN:rt,CLOSEPAREN:ot,OPENANGLEBRACKET:at,CLOSEANGLEBRACKET:lt,FULLWIDTHLEFTPAREN:ct,FULLWIDTHRIGHTPAREN:ut,LEFTCORNERBRACKET:dt,RIGHTCORNERBRACKET:ft,LEFTWHITECORNERBRACKET:ht,RIGHTWHITECORNERBRACKET:gt,FULLWIDTHLESSTHAN:mt,FULLWIDTHGREATERTHAN:pt,AMPERSAND:Et,APOSTROPHE:kt,ASTERISK:Tt,AT:I,BACKSLASH:yt,BACKTICK:At,CARET:Lt,COLON:x,COMMA:Xt,DOLLAR:Ct,DOT:R,EQUALS:bt,EXCLAMATION:Zt,HYPHEN:O,PERCENT:Rt,PIPE:Ot,PLUS:vt,POUND:St,QUERY:wt,QUOTE:te,SEMI:ee,SLASH:v,TILDE:F,UNDERSCORE:Nt,EMOJI:Se,SYM:It}),D=/[a-z]/,Bt=new RegExp("\\p{L}","u"),zt=new RegExp("\\p{Emoji}","u");var Kt=/\d/,ye=/\s/;var Ae=`
`,We="\uFE0F",Fe="\u200D",X=null,Z=null;function _e(t){t===void 0&&(t=[]);let e={};L.groups=e;let n=new L;X==null&&(X=Le(Me)),Z==null&&(Z=Le(De)),o(n,"'",kt),o(n,"{",K),o(n,"}",W),o(n,"[",it),o(n,"]",st),o(n,"(",rt),o(n,")",ot),o(n,"<",at),o(n,">",lt),o(n,"\uFF08",ct),o(n,"\uFF09",ut),o(n,"\u300C",dt),o(n,"\u300D",ft),o(n,"\u300E",ht),o(n,"\u300F",gt),o(n,"\uFF1C",mt),o(n,"\uFF1E",pt),o(n,"&",Et),o(n,"*",Tt),o(n,"@",I),o(n,"`",At),o(n,"^",Lt),o(n,":",x),o(n,",",Xt),o(n,"$",Ct),o(n,".",R),o(n,"=",bt),o(n,"!",Zt),o(n,"-",O),o(n,"%",Rt),o(n,"|",Ot),o(n,"+",vt),o(n,"#",St),o(n,"?",wt),o(n,'"',te),o(n,"/",v),o(n,";",ee),o(n,"~",F),o(n,"_",Nt),o(n,"\\",yt);let i=C(n,Kt,Yt,{[Ft]:!0});C(i,Kt,i);let s=C(n,D,w,{[_t]:!0});C(s,D,s);let a=C(n,Bt,Gt,{[Qt]:!0});C(a,D),C(a,Bt,a);let r=C(n,ye,ve,{[ke]:!0});o(n,Ae,Vt,{[ke]:!0}),o(r,Ae),C(r,ye,r);let l=C(n,zt,Se,{[Oe]:!0});C(l,zt,l),o(l,We,l);let c=o(l,Fe);C(c,zt,l);let d=[[D,s]],g=[[D,null],[Bt,a]];for(let f=0;f<X.length;f++)N(n,X[f],qt,w,d);for(let f=0;f<Z.length;f++)N(n,Z[f],Jt,Gt,g);j(qt,{tld:!0,ascii:!0},e),j(Jt,{utld:!0,alpha:!0},e),N(n,"file",nt,w,d),N(n,"mailto",nt,w,d),N(n,"http",U,w,d),N(n,"https",U,w,d),N(n,"ftp",U,w,d),N(n,"ftps",U,w,d),j(nt,{scheme:!0,ascii:!0},e),j(U,{slashscheme:!0,ascii:!0},e),t=t.sort((f,h)=>f[0]>h[0]?1:-1);for(let f=0;f<t.length;f++){let h=t[f][0],E=t[f][1]?{[Ue]:!0}:{[Be]:!0};h.indexOf("-")>=0?E[$t]=!0:D.test(h)?Kt.test(h)?E[et]=!0:E[_t]=!0:E[Ft]=!0,Te(n,h,h,E)}return Te(n,"localhost",_,{ascii:!0}),n.jd=new L(It),{start:n,tokens:B({groups:e},we)}}function Qe(t,e){let n=$e(e.replace(/[A-Z]/g,l=>l.toLowerCase())),i=n.length,s=[],a=0,r=0;for(;r<i;){let l=t,c=null,d=0,g=null,f=-1,h=-1;for(;r<i&&(c=l.go(n[r]));)l=c,l.accepts()?(f=0,h=0,g=l):f>=0&&(f+=n[r].length,h++),d+=n[r].length,a+=n[r].length,r++;a-=f,r-=h,d-=f,s.push({t:g.t,v:e.slice(a-d,a),s:a-d,e:a})}return s}function $e(t){let e=[],n=t.length,i=0;for(;i<n;){let s=t.charCodeAt(i),a,r=s<55296||s>56319||i+1===n||(a=t.charCodeAt(i+1))<56320||a>57343?t[i]:t.slice(i,i+2);e.push(r),i+=r.length}return e}function N(t,e,n,i,s){let a,r=e.length;for(let l=0;l<r-1;l++){let c=e[l];t.j[c]?a=t.j[c]:(a=new L(i),a.jr=s.slice(),t.j[c]=a),t=a}return a=new L(n),a.jr=s.slice(),t.j[e[r-1]]=a,a}function Le(t){let e=[],n=[],i=0,s="0123456789";for(;i<t.length;){let a=0;for(;s.indexOf(t[i+a])>=0;)a++;if(a>0){e.push(n.join(""));for(let r=parseInt(t.substring(i,i+a),10);r>0;r--)n.pop();i+=a}else n.push(t[i]),i++}return e}var Q={defaultProtocol:"http",events:null,format:Ce,formatHref:Ce,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ne(t,e){e===void 0&&(e=null);let n=B({},Q);t&&(n=B(n,t instanceof ne?t.o:t));let i=n.ignoreTags,s=[];for(let a=0;a<i.length;a++)s.push(i[a].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}ne.prototype={o:Q,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){let i=e!=null,s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Q[t],typeof s=="function"&&i&&(s=s(e,n))):typeof s=="function"&&i&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let i=this.o[t];return typeof i=="function"&&e!=null&&(i=i(e,n.t,n)),i},render(t){let e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Ce(t){return t}function Ne(t,e){this.t="token",this.v=t,this.tk=e}Ne.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){let e=this.toString(),n=t.get("truncate",e,this),i=t.get("format",e,this);return n&&i.length>n?i.substring(0,n)+"\u2026":i},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Q.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){let e=this,n=this.toHref(t.get("defaultProtocol")),i=t.get("formatHref",n,this),s=t.get("tagName",n,e),a=this.toFormattedString(t),r={},l=t.get("className",n,e),c=t.get("target",n,e),d=t.get("rel",n,e),g=t.getObj("attributes",n,e),f=t.getObj("events",n,e);return r.href=i,l&&(r.class=l),c&&(r.target=c),d&&(r.rel=d),g&&B(r,g),{tagName:s,attributes:r,content:a,eventListeners:f}}};function xt(t,e){class n extends Ne{constructor(s,a){super(s,a),this.t=t}}for(let i in e)n.prototype[i]=e[i];return n.t=t,n}var be=xt("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Re=xt("text"),Ge=xt("nl"),tt=xt("url",{isLink:!0,toHref(t){return t===void 0&&(t=Q.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){let t=this.tk;return t.length>=2&&t[0].t!==_&&t[1].t===x}});var b=t=>new L(t);function qe(t){let{groups:e}=t,n=e.domain.concat([Et,Tt,I,yt,At,Lt,Ct,bt,O,Yt,Rt,Ot,vt,St,v,It,F,Nt]),i=[kt,x,Xt,R,Zt,wt,te,ee,at,lt,K,W,st,it,rt,ot,ct,ut,dt,ft,ht,gt,mt,pt],s=[Et,kt,Tt,yt,At,Lt,Ct,bt,O,K,W,Rt,Ot,vt,St,wt,v,It,F,Nt],a=b(),r=o(a,F);u(r,s,r),u(r,e.domain,r);let l=b(),c=b(),d=b();u(a,e.domain,l),u(a,e.scheme,c),u(a,e.slashscheme,d),u(l,s,r),u(l,e.domain,l);let g=o(l,I);o(r,I,g),o(c,I,g),o(d,I,g);let f=o(r,R);u(f,s,r),u(f,e.domain,r);let h=b();u(g,e.domain,h),u(h,e.domain,h);let T=o(h,R);u(T,e.domain,h);let E=b(be);u(T,e.tld,E),u(T,e.utld,E),o(g,_,E);let y=o(h,O);u(y,e.domain,h),u(E,e.domain,h),o(E,R,T),o(E,O,y);let H=o(E,x);u(H,e.numeric,be);let S=o(l,O),m=o(l,R);u(S,e.domain,l),u(m,s,r),u(m,e.domain,l);let A=b(tt);u(m,e.tld,A),u(m,e.utld,A),u(A,e.domain,l),u(A,s,r),o(A,R,m),o(A,O,S),o(A,I,g);let Pt=o(A,x),$=b(tt);u(Pt,e.numeric,$);let k=b(tt),P=b();u(k,n,k),u(k,i,P),u(P,n,k),u(P,i,P),o(A,v,k),o($,v,k);let G=o(c,x),Pe=o(d,x),je=o(Pe,v),jt=o(je,v);u(c,e.domain,l),o(c,R,m),o(c,O,S),u(d,e.domain,l),o(d,R,m),o(d,O,S),u(G,e.domain,k),o(G,v,k),u(jt,e.domain,k),u(jt,n,k),o(jt,v,k);let re=[[K,W],[it,st],[rt,ot],[at,lt],[ct,ut],[dt,ft],[ht,gt],[mt,pt]];for(let Mt=0;Mt<re.length;Mt++){let[oe,Dt]=re[Mt],q=o(k,oe);o(P,oe,q),o(q,Dt,k);let M=b(tt);u(q,n,M);let z=b();u(q,i),u(M,n,M),u(M,i,z),u(z,n,M),u(z,i,z),o(M,Dt,k),o(z,Dt,k)}return o(a,_,A),o(a,Vt,Ge),{start:a,tokens:we}}function Je(t,e,n){let i=n.length,s=0,a=[],r=[];for(;s<i;){let l=t,c=null,d=null,g=0,f=null,h=-1;for(;s<i&&!(c=l.go(n[s].t));)r.push(n[s++]);for(;s<i&&(d=c||l.go(n[s].t));)c=null,l=d,l.accepts()?(h=0,f=l):h>=0&&h++,s++,g++;if(h<0)s-=g,s<i&&(r.push(n[s]),s++);else{r.length>0&&(a.push(Wt(Re,e,r)),r=[]),s-=h,g-=h;let T=f.t,E=n.slice(s-g,s);a.push(Wt(T,e,E))}}return r.length>0&&a.push(Wt(Re,e,r)),a}function Wt(t,e,n){let i=n[0].s,s=n[n.length-1].e,a=e.slice(i,s);return new t(a,n)}var Ye=typeof console<"u"&&console&&console.warn||(()=>{}),Ve="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",p={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ie(){L.groups={},p.scanner=null,p.parser=null,p.tokenQueue=[],p.pluginQueue=[],p.customSchemes=[],p.initialized=!1}function ie(t,e){if(e===void 0&&(e=!1),p.initialized&&Ye(`linkifyjs: already initialized - will not register custom scheme "${t}" ${Ve}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);p.customSchemes.push([t,e])}function Xe(){p.scanner=_e(p.customSchemes);for(let t=0;t<p.tokenQueue.length;t++)p.tokenQueue[t][1]({scanner:p.scanner});p.parser=qe(p.scanner.tokens);for(let t=0;t<p.pluginQueue.length;t++)p.pluginQueue[t][1]({scanner:p.scanner,parser:p.parser});p.initialized=!0}function xe(t){return p.initialized||Xe(),Je(p.parser.start,t,Qe(p.scanner.start,t))}function Ht(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}let i=new ne(n),s=xe(t),a=[];for(let r=0;r<s.length;r++){let l=s[r];l.isLink&&(!e||l.t===e)&&i.check(l)&&a.push(l.toFormattedObject(i))}return a}function se(t,e){e===void 0&&(e=null);let n=xe(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function Ze(t){return new J({key:new Y("autolink"),appendTransaction:(e,n,i)=>{let s=e.some(g=>g.docChanged)&&!n.doc.eq(i.doc),a=e.some(g=>g.getMeta("preventAutolink"));if(!s||a)return;let{tr:r}=i,l=ue(n.doc,[...e]),{mapping:c}=l;if(ge(l).forEach(({oldRange:g,newRange:f})=>{Ut(g.from,g.to,n.doc).filter(y=>y.mark.type===t.type).forEach(y=>{let H=c.map(y.from),S=c.map(y.to),m=Ut(H,S,i.doc).filter(G=>G.mark.type===t.type);if(!m.length)return;let A=m[0],Pt=n.doc.textBetween(y.from,y.to,void 0," "),$=i.doc.textBetween(A.from,A.to,void 0," "),k=se(Pt),P=se($);k&&!P&&r.removeMark(A.from,A.to,t.type)});let h=de(i.doc,f,y=>y.isTextblock),T,E;if(h.length>1?(T=h[0],E=i.doc.textBetween(T.pos,T.pos+T.node.nodeSize,void 0," ")):h.length&&i.doc.textBetween(f.from,f.to," "," ").endsWith(" ")&&(T=h[0],E=i.doc.textBetween(T.pos,f.to,void 0," ")),T&&E){let y=E.split(" ").filter(m=>m!=="");if(y.length<=0)return!1;let H=y[y.length-1],S=T.pos+E.lastIndexOf(H);if(!H)return!1;Ht(H).filter(m=>m.isLink).filter(m=>t.validate?t.validate(m.value):!0).map(m=>le(ae({},m),{from:S+m.start+1,to:S+m.end+1})).forEach(m=>{r.addMark(m.from,m.to,t.type.create({href:m.href}))})}}),!!r.steps.length)return r}})}function tn(t){return new J({key:new Y("handleClickLink"),props:{handleClick:(e,n,i)=>{var s,a,r;if(i.button!==0)return!1;let l=he(e.state,t.type.name),c=(s=i.target)===null||s===void 0?void 0:s.closest("a"),d=(a=c?.href)!==null&&a!==void 0?a:l.href,g=(r=c?.target)!==null&&r!==void 0?r:l.target;return c&&d?(window.open(d,g),!0):!1}}})}function en(t){return new J({key:new Y("handlePasteLink"),props:{handlePaste:(e,n,i)=>{let{state:s}=e,{selection:a}=s,{empty:r}=a;if(r)return!1;let l="";i.content.forEach(d=>{l+=d.textContent});let c=Ht(l).find(d=>d.isLink&&d.value===l);return!l||!c?!1:(t.editor.commands.setMark(t.type,{href:c.href}),!0)}}})}var He=me.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){ie(t);return}ie(t.scheme,t.optionalSlashes)})},onDestroy(){Ie()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",ce(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[pe({find:t=>Ht(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){let t=[];return this.options.autolink&&t.push(Ze({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(tn({type:this.type})),this.options.linkOnPaste&&t.push(en({editor:this.editor,type:this.type})),t}});var fn=He.extend({addAttributes(){var t;return Object.assign(Object.assign({},(t=this.parent)===null||t===void 0?void 0:t.call(this)),Ee(["download"]))},addCommands(){var t;return Object.assign(Object.assign({},(t=this.parent)===null||t===void 0?void 0:t.call(this)),{toggleLink:e=>({chain:n,state:i})=>{{let{selection:s,doc:a}=i,r=a.cut(s.to,s.to+1),c=fe(r.content,i.schema).replace(/<\/?[^>]+(>|$)/g,"")===" ",d=n().toggleMark(this.name,e,{extendEmptyMarkRange:!0});return(c?d.setTextSelection(s.to+1):d.setTextSelection(s.to).insertContent('<span style="font-size: 15px"> </span>')).run()}}})}}).configure({openOnClick:!1});export{fn as TuiLink};
